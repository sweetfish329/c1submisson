C1課題。
============

囚人のジレンマ on C。

囚人のジレンマとは?
------------

>囚人のジレンマ（しゅうじんのジレンマ、英: prisoners' dilemma）とは、ゲーム理論におけるゲームの1つ。お互い協力する方が協力しないよりもよい結果になることが分かっていても、協力しない者が利益を得る状況では互いに協力しなくなる、というジレンマである[1]。各個人が合理的に選択した結果（ナッシュ均衡）が社会全体にとって望ましい結果（パレート最適）にならないので、社会的ジレンマとも呼ばれる[2]。

[Wikipdedia:囚人のジレンマ](https://ja.wikipedia.org/wiki/囚人のジレンマ)より引用。


ゲーム理論と呼ばれる学問において有名な議題。
私は中学の頃にゲーム理論の入門書を読んだことがあり、しっぺ返し戦略とともにシンプルながら奥の深い点が強く印象に残っている。



How to play?
------------
<!-- Download .exe files from Realeses. -->
<!--  -->
<!-- or -->

```
git pull sweetfish329/dilemma
gcc main.c game.c ai.c 
gcc ./a.out
```

なぜこれをテーマにしたか。
------------
- ゲーム以外のものでテーマが思い浮かばなく、とりあえずゲームを作ろうと思ったが、他者と被るようなゲーム性の物は避けたかった。
- しっぺ返し戦略をはじめとした戦略はフロー制御の確認としてふさわしいと思った。
  - アルゴリズムになるのか？
- グラフィカルな先入観のあるRPGなどのゲームと比較して、ウィンドウに描画しなくても違和感がなさそうだった。
  
途中で詰まった点と解決法。
-----------
- 関数から構造体のメンバの構造体を扱う術。
  - 親の構造体から実態で子の構造体を読んでいるという構図
  - `x->a->b` ではなく `x->a.b` という話
- AIの側で相手の前回の行動をもとに行動を決定させる方法
  - 選択をただの変数ではなく配列に格納していくことで解決。


これを製作する過程で得た知見。
------------
- Cはコンパイラ依存度が高い。
  - 作業ディレクトリのルートに配置すれば呼び出しは楽だが、すごい汚い。
  - 遡らなければ相対パスでの指定はできる。
    - モジュール間の結合を意識できる？
- 先述の構造体と外部関数への認識。
- 日本語に置き換えるのはめんどくさい。
  - 脳波で半角全角切り替えたい。
- char型配列の初期化はstrcmpでできそう。
  - 使わなかったけど。
- ヘッダファイルへの記述と読み込み。
- GitHubの使い方が少しわかった。
- Markdownも少しわかった。

反省点と今後の展望
------------
- ファイルの扱い以外は割とC標準ライブラリでできることはそれなりに網羅した感があるのはよかった。
- わかりやすいようにHPにしたけど、あれだと痛み分けで5を喰らうのが痛くないから自白一択。
  - HPを自選に持ち越し可にして数戦やって決着するようにすればよかったか？
    - それを今からまた作る気は起きなかったので、bluffつくりました。
- できることならP2Pで通信してプレイできるようにしたかった。
- 授業の進度をふまえて題意考えるなら構造体は使わずに解決するべきだったのかも。
- DBと接続してユーザー名と対戦結果を記録したかった。
  - TwitterAPIで認証とかもしたかったがCでは障壁が大きすぎる。
- cursesを使ってターミナルへの描画の向上？
- どうせならGOでToDoアプリじゃなくてこれを作るのもありかもしれない。
  - jsの勉強にもよさそう。
